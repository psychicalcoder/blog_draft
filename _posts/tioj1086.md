---
title: TIOJ 1086 放錯的信封
tag: ["coding","tioj","math"]
categories: TIOJ
---

### 題目敘述

{% blockquote %}
有天爸爸交代小明幫忙把寫好的信裝進信封裡，信與信封上的名字要配對。例如：給王大毛的信要裝到寫有王大毛的信封。這時頑皮的小明想到一個惡作劇，就是把所有人的信與信封都裝錯；也就是說沒有一個人會收到正確寄給自己的信。例如
A收到B的信，
B收到C的信，
C收到A的信。
請幫小明算算，到底有多少種裝法可以不讓任何人收到應該寄給自己的信。
{% endblockquote %}

<!-- more -->

### 題解

{% blockquote %}
這是排組中的錯排問題
可是我沒學過排組
問了老師才知道
[維基百科](https://zh.m.wikipedia.org/zh-tw/%E9%94%99%E6%8E%92%E9%97%AE%E9%A2%98)上說可以用{% katex [false] %}D_n = (n-1)(D_{n-1}+D_{n-2}){% endkatex %}輕鬆解決
我的Code先跑過一次然後建表了
沒什麼參考價值
{% endblockquote %}

###### C++

``` C++
#include <cstdio>
typedef long long ll;
ll d[]={0,0,1,2,9,44,265,1854,14833,133496,1334961,14684570,176214841,2290792932,
32071101049,481066515734,7697064251745,130850092279664,
2355301661033953,44750731559645106};

int main() {
	int n;
	while(scanf("%d",&n)==1&&n)
	    printf("%lld\n",d[n]);
	return 0;
}
```